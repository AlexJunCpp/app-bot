# app-bot
优雅简约的安卓应用机器人，手机无需root，通过adb模拟人为操作，调用OCR接口处理交互。  
<div align=center>
<img src=./tmp/thumb/1.gif width=200 height=auto>
<img src=./tmp/thumb/2.gif width=200 height=auto>
<img src=./tmp/thumb/3.gif width=200 height=auto>
</div>

### 目前支持的功能 
- 抖音(v7.5.0)
  * [x] 寻找美女并点赞
  * [x] 批量取消点赞 
- soul(V3.3.6) 
  * [x] 自动灵魂匹配
  * [x] 机器人聊天
  * [x] 命令行手动聊天
  * [x] 与指定souler聊天
- wechat(Version 7.0.5)：
  * [x] 好友检测：检测是否是好友

### 实现原理
- 电脑通过adb操控手机
- 模拟按键、截屏
- 调用图像处理接口、机器人接口处理交互

### 环境要求
* 电脑端OS：windows
* 手机OS：安卓，无需root，但必须开启调试模式
* Python：3.0+
* adb：version 1.0.41

### 怎么用
1. 手机端首先找到**开发者选项**，打开里面的**调试模式**
2. 电脑adb与手机成功连接
3. 电脑端运行`Python setup.py`然后按提示操作

### 未来计划
* [x] 功能创新
* [x] 支持更多应用
* [x] 将图像目标检测算法应用到程序中
* [x] 支持web访问
* [x] 提供docker镜像 
  
### 其他
<font color=red>**如何适配不同大小的屏幕？**</font>
- 屏幕大小为1080x2160的已适配
- 其他大小的在conf新建以屏幕大小(height x width)为文件夹名称，然后自行适配
- 若没有适配将默认读取default文件夹下的配置，很大可能出现异常

<font color=red>**电脑adb与手机怎么连接？**</font>
1. 手机开启调试模式，然后进行adb连接，连接方式可以是usb连接，也可以无线连接
2. usb连接：手机用数据线连接电脑即可
3. 无线连接：先借助usb连接后在命令行运行如下命令：
   ```
   adb tcpip 5555
   ```
   然后断开数据线，在命令行运行如下命令：
   ```
   adb connect 192.168.43.1:5555
   ```
   `192.168.43.1`换成手机的ip地址，需手机和电脑在同一局域网。最后检查是否连接成功，需运行如下命令：
   ```
   adb devices
   ```
    >*最佳实践*：电脑连接手机端搭建的热点，这时电脑和手机处于同一局域网，手机端的ip地址一般为`192.168.43.1`

<font color=red>**其他说明**</font>
- 感谢那些大佬给的启发，像开发抖音机器人识别美女的、开发微信小游戏跳一跳辅助的
- 若有问题提issue或反馈至QQ群：776013844，也可在公众号留言
<div align=center>
    <img src=./tmp/thumb/qrcode_for_gh_7f8f9063d9f9_258.jpg width=100 height=auto>
</div>

## soul机器人
### 功能
- **自动灵魂匹配**：自动匹配，匹配成功后自动打招呼~
- **机器人聊天**：监听消息列表，来消息时自动识别消息内容并调用机器人接口进行消息回复
- **命令行手动聊天**：监听消息列表，来消息时识别消息内容并展示在命令行，在电脑端命令行输入消息回复，避免了拿手机的麻烦~
- **与指定souler聊天**：如果跟哪个souler聊的不错，又不想手机和电脑之间来回切换，可在电脑端命令行输入内容进行聊天，只需打开该souler的聊天窗口就可以啦~
### 说明
- 最好是在程序运行时保持屏幕常量
- 程序运行时尽量不要操作手机，程序作了许多健壮性处理，处理别的事情时也没法处理啊，那样的话请先按 `ctrl+c`终止程序

## wechat机器人

### 功能

- **好友检测**：检测是否是好友

### 说明
- 程序运行时，不会给列表中任何好友发送消息，完全利用了图像处理技术进行检测
- 程序运行时，不要操作手机，不然程序会出现异常或直接退出。
- 需要使用手机时可随时终止程序，程序会自动将状态保存在文件中，下次运行程序时会从上次终止的地方执行。
- ./tmp/wx_contacter.txt：保存所有检测到的联系人数据
- ./tmp/wx_notfriend.txt：保存检测到的非好友状态数据
- 滑屏翻页时速度比较慢，可在配置文件中更改`list_init_swipe`的值自行适配
  
## 抖音机器人

### 功能
- **寻找美女并点赞**：找到之后只是点赞
- **批量取消点赞**：就是把喜欢里的视频删掉
  
### 说明
- 程序运行时不要操作手机
- 如需操作手机，先终止程序




